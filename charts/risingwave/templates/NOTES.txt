{{- $kubectlArgs := "kubectl" -}}
{{- if and .Release.Namespace (ne .Release.Namespace "default") }}
{{ $kubectlArgs = cat $kubectlArgs "-n" .Release.Namespace }}
{{- end }}
{{- $firstDatabase := "dev" -}}
{{- if .Values.databases }}
{{ $firstDatabase = first .Values.databases }}
{{- end }}
{{- $port := .Values.service.port }}
Welcome to fast and modern stream processing with RisingWave!

Check the running status with the following command:

    {{ $kubectlArgs }} get pods -l app.kubernetes.io/instance={{ include "risingwave.fullname" . }}

Try accessing the SQL console with the following command:

    {{ $kubectlArgs }} port-forward svc/{{ include "risingwave.fullname" . }} {{ $port }}:svc

Keep the above command running and open a new terminal window to run the following command:

    {{ if not .Values.auth.rootPassword -}}
    psql -h localhost -p {{ $port }} -d {{ $firstDatabase }} -U {{ .Values.auth.rootUser }}
    {{- else -}}
    export PGPASSWORD=$({{ $kubectlArgs }} get secret -o jsonpath="{.data.root-password}" {{ include "risingwave.fullname" . }} | base64 --decode)
    psql -h localhost -p {{ $port }} -d {{ $firstDatabase }} -U {{ .Values.auth.rootUser }}
    {{- end }}

Visit our documentation for advanced usages: https://www.risingwave.dev/docs/current/intro/